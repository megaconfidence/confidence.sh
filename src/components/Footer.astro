---
import { SOCIAL_LINKS } from '../consts';
const today = new Date();
---

<footer transition:persist="site-footer">
	<div class="footer-inner">
		<div class="footer-social">
			<a href={SOCIAL_LINKS.youtube} target="_blank" rel="noopener" aria-label="YouTube">
				<svg viewBox="0 0 24 24" aria-hidden="true" width="24" height="24"><path fill="currentColor" d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg>
			</a>
			<a href={SOCIAL_LINKS.github} target="_blank" rel="noopener" aria-label="GitHub">
				<svg viewBox="0 0 16 16" aria-hidden="true" width="24" height="24"><path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
			</a>
			<a href={SOCIAL_LINKS.twitter} target="_blank" rel="noopener" aria-label="Twitter / X">
				<svg viewBox="0 0 16 16" aria-hidden="true" width="24" height="24"><path fill="currentColor" d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"></path></svg>
			</a>
			<a href={SOCIAL_LINKS.linkedin} target="_blank" rel="noopener" aria-label="LinkedIn">
				<svg viewBox="0 0 24 24" aria-hidden="true" width="24" height="24"><path fill="currentColor" d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg>
			</a>
		</div>
		<div class="footer-copyright">
			&copy; {today.getFullYear()} Confidence Okoghenun
		</div>
		<div class="footer-actions">
			<button class="theme-toggle" aria-label="Toggle dark mode" type="button">
				<svg class="icon-sun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
				<svg class="icon-moon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
			</button>
			<button class="scroll-top" aria-label="Scroll to top" type="button">
				<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="19" x2="12" y2="5"/><polyline points="5 12 12 5 19 12"/></svg>
			</button>
		</div>
	</div>
</footer>

<script>
	// Theme toggle
	const toggle = document.querySelector('.theme-toggle');
	if (toggle) {
		toggle.addEventListener('click', () => {
			const isDark = document.documentElement.classList.toggle('dark');
			localStorage.setItem('theme', isDark ? 'dark' : 'light');
		});
	}

	// Scroll to top
	const scrollBtn = document.querySelector('.scroll-top');
	if (scrollBtn) {
		scrollBtn.addEventListener('click', () => {
			window.scrollTo({ top: 0, behavior: 'smooth' });
		});
	}
</script>

<style>
	footer {
		padding: 2em 1.5em 3em;
		text-align: center;
		color: var(--text-muted);
		border-top: 1px solid var(--border);
		transition: background-color 0.15s ease, border-color 0.15s ease;
	}
	.footer-inner {
		max-width: 48rem;
		margin: 0 auto;
	}
	.footer-social {
		display: flex;
		justify-content: center;
		gap: 1em;
		margin-bottom: 1em;
	}
	.footer-social a {
		color: var(--text-faint);
		text-decoration: none;
		transition: color 0.15s ease;
	}
	.footer-social a:hover {
		color: var(--accent);
	}
	.footer-copyright {
		font-size: 0.875em;
		margin-bottom: 1.25em;
	}
	.footer-actions {
		display: flex;
		justify-content: center;
		gap: 0.5em;
	}
	.footer-actions button {
		background: none;
		border: 1px solid var(--border);
		color: var(--text-muted);
		cursor: pointer;
		padding: 0.4em;
		border-radius: 6px;
		display: flex;
		align-items: center;
		justify-content: center;
		transition: color 0.15s ease, border-color 0.15s ease, background-color 0.15s ease;
	}
	.footer-actions button:hover {
		color: var(--text);
		border-color: var(--text-muted);
		background-color: var(--bg-secondary);
	}
	/* Theme icon switching via CSS â€” no flash */
	.icon-sun {
		display: none;
	}
	:global(html.dark) .icon-sun {
		display: block;
	}
	:global(html.dark) .icon-moon {
		display: none;
	}
</style>
